(this.webpackJsonpsocial_network_01=this.webpackJsonpsocial_network_01||[]).push([[0],{16:function(e,a,t){e.exports={addPostSection:"MyPosts_addPostSection__3MRgr",text:"MyPosts_text__3OgMK",posts:"MyPosts_posts__JRpx4",postButton:"MyPosts_postButton__3vU2g"}},18:function(e,a,t){e.exports={profileImg:"Profile_profileImg__PQ3Db",description:"Profile_description__10vnR"}},29:function(e,a,t){e.exports={header:"Header_header__1NCrN"}},30:function(e,a,t){e.exports={item:"Post_item__3mGg9"}},37:function(e,a,t){},38:function(e,a,t){},4:function(e,a,t){e.exports={dialogs:"Dialogs_dialogs__dO14I",dialog:"Dialogs_dialog__3sc7t",dialogContent:"Dialogs_dialogContent__t8aqI",avatar:"Dialogs_avatar__2X1bz",dialogsItems:"Dialogs_dialogsItems__2bWrF",activeLink:"Dialogs_activeLink__tzILA",messages:"Dialogs_messages__1Skl5",message:"Dialogs_message__1KdX7",msgAvatar:"Dialogs_msgAvatar__2vpzI",messageBox:"Dialogs_messageBox__2WzUr",name:"Dialogs_name__1FI5b",text:"Dialogs_text__1vEl8",time:"Dialogs_time__Noyq6",mineMessage:"Dialogs_mineMessage__3Seqf",addMessageSection:"Dialogs_addMessageSection__1hkyw",newMessageButton:"Dialogs_newMessageButton__3HXmk"}},44:function(e,a,t){"use strict";t.r(a),t.d(a,"globalRender",(function(){return be}));var s=t(1),n=t(0),i=t.n(n),c=t(20),r=t.n(c),o=(t(37),t(3)),d=t(13),l=(t(38),t(29)),j=t.n(l);function g(){return Object(s.jsx)("header",{className:j.a.header,children:Object(s.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/1649/1649063.svg",alt:"logo"})})}var b=t(5),u=t.n(b);function m(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{className:u.a.friendsTitle,children:"Friends online"}),Object(s.jsxs)("div",{className:u.a.friendsOnline,children:[Object(s.jsxs)("div",{className:u.a.friend,children:[Object(s.jsx)("div",{className:u.a.friendAvatar}),Object(s.jsx)("span",{className:u.a.friendName,children:"Joe"})]}),Object(s.jsxs)("div",{className:u.a.friend,children:[Object(s.jsx)("div",{className:u.a.friendAvatar}),Object(s.jsx)("span",{className:u.a.friendName,children:"Jack"})]}),Object(s.jsxs)("div",{className:u.a.friend,children:[Object(s.jsx)("div",{className:u.a.friendAvatar}),Object(s.jsx)("span",{className:u.a.friendName,children:"Jane"})]})]})]})}function O(){function e(e){return Object(s.jsx)("div",{className:u.a.item,children:Object(s.jsx)(d.b,{to:e.to,activeClassName:u.a.activeLink,children:e.title})})}return Object(s.jsxs)("nav",{className:u.a.navbar,children:[Object(s.jsxs)("div",{className:u.a.navbarItems,children:[Object(s.jsx)(e,{to:"/profile",title:"Profile"}),Object(s.jsx)(e,{to:"/dialogs",title:"Dialogs"}),Object(s.jsx)(e,{to:"/news",title:"News"}),Object(s.jsx)(e,{to:"/settings",title:"Settings"})]}),Object(s.jsx)(m,{})]})}var v=t(18),x=t.n(v);function f(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:"http://www.imageonemri.ca/image/w2000-c5:2/files/58532088_l.jpg",alt:"",className:x.a.profileImg})}),Object(s.jsxs)("div",{className:x.a.description,children:[Object(s.jsx)("span",{children:"Profile info"}),console.log("rerender")]})]})}var p=t(15),_=t(10),h=t(45),N="ADD-POST",M="UPDATE-NEW-POST-TEXT",D={postsData:[{id:Object(h.a)(),message:"It's my first post!",likesCount:12},{id:Object(h.a)(),message:"Hello!",likesCount:432},{id:Object(h.a)(),message:"Good day!",likesCount:2}],newPostText:""},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case N:var t={id:Object(h.a)(),message:e.newPostText,likesCount:0},s=Object(_.a)({},e);return s.postsData=[t].concat(Object(p.a)(e.postsData)),s.newPostText="",s;case M:return Object(_.a)(Object(_.a)({},e),{},{newPostText:a.text});default:return e}},k=t(16),I=t.n(k),P=t(30),C=t.n(P);function S(e){return Object(s.jsxs)("div",{className:C.a.item,children:[Object(s.jsx)("img",{src:"https://www.teenvio.com/es/wp-content/uploads/2018/03/man-2-512.png",alt:"avatar"}),Object(s.jsx)("span",{children:e.message}),Object(s.jsx)("div",{children:Object(s.jsxs)("span",{children:["Like (",e.likesCount," likes)"]})})]})}var T=t(14),y=Object(T.b)((function(e){return e.pageProfile}),(function(e){return{inputHandler:function(a){e(function(e){return{type:M,text:e}}(a))},addPost:function(a){var t,s=null===(t=a.current)||void 0===t?void 0:t.value;s&&s.trim()&&(e({type:N}),a.current&&a.current.value&&a.current.focus())}}}))((function(e){var a=e.postsData.map((function(e){return Object(s.jsx)(S,{message:e.message,likesCount:e.likesCount},e.id)})),t=Object(n.createRef)();return Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:I.a.postButton,children:"My Posts"}),Object(s.jsxs)("div",{className:I.a.addPostSection,children:[Object(s.jsx)("textarea",{ref:t,className:I.a.text,value:e.newPostText,onChange:function(a){e.inputHandler(a.target.value)}}),Object(s.jsx)("button",{className:I.a.postButton,onClick:function(){return e.addPost(t)},children:"Send new post"})]}),Object(s.jsx)("div",{className:I.a.posts,children:a})]})}));function A(){return Object(s.jsxs)("div",{className:x.a.content,children:[Object(s.jsx)(f,{}),Object(s.jsx)(y,{})]})}function E(e){return Object(s.jsx)("div",{children:"News"})}function H(e){return Object(s.jsx)("div",{children:"Music"})}function B(e){return Object(s.jsx)("div",{children:"Settings"})}var F,L=t(11),R=Object(h.a)(),J=Object(h.a)(),W=Object(h.a)(),z=Object(h.a)(),G=[{id:R,name:"Friend 1"},{id:J,name:"Friend 2"},{id:W,name:"Friend 3"},{id:z,name:"Friend 4"}],X=[{id:Object(h.a)(),isMine:!0,message:"Hi!"},{id:Object(h.a)(),isMine:!1,message:"Hello!"},{id:Object(h.a)(),isMine:!0,message:"Whats up?"},{id:Object(h.a)(),isMine:!0,message:"Good day!"},{id:Object(h.a)(),isMine:!1,message:"Yo!"}],q=[{id:Object(h.a)(),isMine:!1,message:"Apple"},{id:Object(h.a)(),isMine:!0,message:"Peanut"},{id:Object(h.a)(),isMine:!1,message:"Banana"},{id:Object(h.a)(),isMine:!0,message:"Peach"}],U=[{id:Object(h.a)(),isMine:!1,message:"Tomato"},{id:Object(h.a)(),isMine:!1,message:"Cucumber"},{id:Object(h.a)(),isMine:!0,message:"Carrot"}],K=[{id:Object(h.a)(),isMine:!1,message:"Winter"},{id:Object(h.a)(),isMine:!1,message:"Spring"}],Q=(F={},Object(L.a)(F,R,X),Object(L.a)(F,J,q),Object(L.a)(F,W,U),Object(L.a)(F,z,K),F),V=[{id:Object(h.a)(),message:"It's my first post!",likesCount:12},{id:Object(h.a)(),message:"Hello!",likesCount:432},{id:Object(h.a)(),message:"Good day!",likesCount:2}],Y=([].concat(V),[].concat(G),[].concat(G)[0].id,"ADD-MESSAGE"),Z="UPDATE-NEW-MESSAGE-TEXT",$="SET-DIALOG-ID",ee={dialogsData:Q,dialogItems:Object(p.a)(G),activeDialogId:Object(p.a)(G)[0].id,newMessageText:"Shift+click to send as friend"},ae=function(e){return{type:Z,text:e}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Y:var t={id:Object(h.a)(),isMine:a.isMine,message:e.newMessageText};"Shift+click to send as friend"===t.message&&(t.message="New Message!");var s=Object(_.a)({},e);return s.dialogsData[a.dialogId]=[t].concat(Object(p.a)(s.dialogsData[a.dialogId])),s.newMessageText="",s;case Z:return Object(_.a)(Object(_.a)({},e),{},{newMessageText:a.text});case $:return Object(_.a)(Object(_.a)({},e),{},{activeDialogId:a.id});default:return e}},se=t(4),ne=t.n(se);function ie(e){var a="/dialogs/"+e.dialogId;return Object(s.jsxs)("div",{className:ne.a.dialog,children:[Object(s.jsx)("img",{className:ne.a.avatar,src:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png"}),Object(s.jsx)(d.b,{to:a,onClick:function(){e.callback(e.dialogId)},activeClassName:ne.a.activeLink,children:e.name})]})}function ce(e){var a=ne.a.message+(e.isMine?" "+ne.a.mineMessage:""),t=e.isMine?"https://kovadm.ru/wp-content/uploads/2020/02/avatar-placeholder.png":"https://media.istockphoto.com/vectors/person-gray-photo-placeholder-woman-vector-id1177794485?b=1&k=6&m=1177794485&s=612x612&w=0&h=8INMsj4jnjSOComnh3-5VJPDxbO2D-0vIz1E92aR4L4=",n=e.isMine?"Me":"Friend";return Object(s.jsxs)("div",{className:a,children:[Object(s.jsx)("img",{className:ne.a.msgAvatar,src:t,alt:"avatar"}),Object(s.jsxs)("div",{className:ne.a.messageBox,children:[Object(s.jsx)("span",{className:ne.a.name,children:n}),Object(s.jsx)("p",{className:ne.a.text,children:e.message}),Object(s.jsx)("span",{className:ne.a.time,children:"00.01"})]})]})}var re=Object(T.b)((function(e){return e.pageDialogs}),(function(e){return{setDialogId:function(a){e(function(e){return{type:$,id:e}}(a))},addMessage:function(a,t,s){var n,i=null===(n=t.current)||void 0===n?void 0:n.value,c=!0;i&&i.trim()&&(a.shiftKey&&(c=!1),e(function(e,a){return{type:Y,dialogId:e,isMine:a}}(s,c)),t.current&&t.current.value&&t.current.focus())},inputHandler:function(a){e(ae(a.currentTarget.value))},focusHandler:function(a){"Shift+click to send as friend"===a.currentTarget.value&&e(ae(""))},blurHandler:function(a){a.currentTarget.value.trim()||e(ae("Shift+click to send as friend"))}}}))((function(e){var a=e.dialogItems.map((function(a){return Object(s.jsx)(ie,{dialogId:a.id,name:a.name,callback:e.setDialogId},a.id)})),t=e.dialogsData[e.activeDialogId].map((function(e){return Object(s.jsx)(ce,{id:e.id,isMine:e.isMine,message:e.message},e.id)})),i=Object(n.createRef)(),c=e.inputHandler,r=e.focusHandler,o=e.blurHandler;return Object(s.jsxs)("div",{className:ne.a.dialogs,children:[console.log("dialogs rendered"),Object(s.jsx)("div",{className:ne.a.dialogsItems,children:a}),Object(s.jsxs)("div",{className:ne.a.dialogContent,children:[Object(s.jsx)("div",{className:ne.a.dialog,children:Object(s.jsx)("div",{className:ne.a.messages,children:t})}),Object(s.jsxs)("div",{className:ne.a.addMessageSection,children:[Object(s.jsx)("textarea",{ref:i,className:ne.a.text,value:e.newMessageText,onChange:c,onFocus:r,onBlur:o}),Object(s.jsx)("button",{className:ne.a.newMessageButton,onClick:function(a){e.addMessage(a,i,e.activeDialogId)},children:"Send"})]})]})]})}));var oe=function(){var e=Object(s.jsx)(o.a,{path:"/dialogs",render:function(){return Object(s.jsx)(re,{})}}),a=Object(s.jsx)(o.a,{path:"/profile",render:function(){return Object(s.jsx)(A,{})}});return Object(s.jsx)(d.a,{children:Object(s.jsxs)("div",{className:"app-wrapper",children:[Object(s.jsx)(g,{}),Object(s.jsx)(O,{}),Object(s.jsxs)("div",{className:"app-wrapper-content",children:[e,a,Object(s.jsx)(o.a,{path:"/news",component:E}),Object(s.jsx)(o.a,{path:"/music",component:H}),Object(s.jsx)(o.a,{path:"/settings",component:B})]})]})})},de=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,46)).then((function(a){var t=a.getCLS,s=a.getFID,n=a.getFCP,i=a.getLCP,c=a.getTTFB;t(e),s(e),n(e),i(e),c(e)}))},le=t(19),je=Object(le.b)({pageProfile:w,pageDialogs:te}),ge=Object(le.c)(je),be=function(e){r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(T.a,{store:ge,children:Object(s.jsx)(oe,{})})}),document.getElementById("root"))};be(ge.getState()),ge.subscribe((function(){var e=ge.getState();be(e)})),de()},5:function(e,a,t){e.exports={navbar:"Navbar_navbar__2HCv2",item:"Navbar_item__3ER6l",activeLink:"Navbar_activeLink__7X-Tz",friendsTitle:"Navbar_friendsTitle__J9E0W",friendsOnline:"Navbar_friendsOnline__3XCCz",friend:"Navbar_friend__2_c3q",friendAvatar:"Navbar_friendAvatar__22v1R",friendName:"Navbar_friendName__N3WSl"}}},[[44,1,2]]]);
//# sourceMappingURL=main.8c57dd9f.chunk.js.map