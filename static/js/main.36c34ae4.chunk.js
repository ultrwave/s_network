(this.webpackJsonpsocial_network_01=this.webpackJsonpsocial_network_01||[]).push([[0],{13:function(e,t,s){e.exports={users:"Users_users__1TDgl",user:"Users_user__76rJk",name:"Users_name__20Ntw",info:"Users_info__1BORJ",status:"Users_status__3nni0",location:"Users_location__WTaV0",avatar:"Users_avatar__2CuUe"}},17:function(e,t,s){e.exports={addPostSection:"MyPosts_addPostSection__3MRgr",text:"MyPosts_text__3OgMK",postButton:"MyPosts_postButton__3vU2g"}},18:function(e,t,s){e.exports={item:"Post_item__3mGg9",messageContainer:"Post_messageContainer__23h9A",message:"Post_message__PjB5K",avatar:"Post_avatar__3Al1l",likes:"Post_likes__33ZPA"}},20:function(e,t,s){e.exports={profileImg:"Profile_profileImg__PQ3Db",description:"Profile_description__10vnR"}},31:function(e,t,s){e.exports={header:"Header_header__1NCrN"}},38:function(e,t,s){},39:function(e,t,s){},4:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__dO14I",dialog:"Dialogs_dialog__3sc7t",dialogContent:"Dialogs_dialogContent__t8aqI",avatar:"Dialogs_avatar__2X1bz",dialogsItems:"Dialogs_dialogsItems__2bWrF",activeLink:"Dialogs_activeLink__tzILA",messages:"Dialogs_messages__1Skl5",message:"Dialogs_message__1KdX7",msgAvatar:"Dialogs_msgAvatar__2vpzI",messageBox:"Dialogs_messageBox__2WzUr",name:"Dialogs_name__1FI5b",text:"Dialogs_text__1vEl8",time:"Dialogs_time__Noyq6",mineMessage:"Dialogs_mineMessage__3Seqf",addMessageSection:"Dialogs_addMessageSection__1hkyw",newMessageButton:"Dialogs_newMessageButton__3HXmk"}},45:function(e,t,s){"use strict";s.r(t),s.d(t,"globalRender",(function(){return fe}));var a=s(0),n=s(1),i=s.n(n),c=s(22),r=s.n(c),o=(s(38),s(3)),l=s(16),d=(s(39),s(31)),j=s.n(d);function u(){return Object(a.jsx)("header",{className:j.a.header,children:Object(a.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/1649/1649063.svg",alt:"logo"})})}var b=s(6),g=s.n(b);function m(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:g.a.friendsTitle,children:"Friends online"}),Object(a.jsxs)("div",{className:g.a.friendsOnline,children:[Object(a.jsxs)("div",{className:g.a.friend,children:[Object(a.jsx)("div",{className:g.a.friendAvatar}),Object(a.jsx)("span",{className:g.a.friendName,children:"Joe"})]}),Object(a.jsxs)("div",{className:g.a.friend,children:[Object(a.jsx)("div",{className:g.a.friendAvatar}),Object(a.jsx)("span",{className:g.a.friendName,children:"Jack"})]}),Object(a.jsxs)("div",{className:g.a.friend,children:[Object(a.jsx)("div",{className:g.a.friendAvatar}),Object(a.jsx)("span",{className:g.a.friendName,children:"Jane"})]})]})]})}function O(){function e(e){return Object(a.jsx)("div",{className:g.a.item,children:Object(a.jsx)(l.b,{to:e.to,activeClassName:g.a.activeLink,children:e.title})})}return Object(a.jsxs)("nav",{className:g.a.navbar,children:[Object(a.jsxs)("div",{className:g.a.navbarItems,children:[Object(a.jsx)(e,{to:"/profile",title:"Profile"}),Object(a.jsx)(e,{to:"/dialogs",title:"Dialogs"}),Object(a.jsx)(e,{to:"/news",title:"News"}),Object(a.jsx)(e,{to:"/settings",title:"Settings"}),Object(a.jsx)(e,{to:"/users",title:"Users"})]}),Object(a.jsx)(m,{})]})}var v=s(20),f=s.n(v);function x(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"http://www.imageonemri.ca/image/w2000-c5:2/files/58532088_l.jpg",alt:"",className:f.a.profileImg})}),Object(a.jsxs)("div",{className:f.a.description,children:[Object(a.jsx)("span",{children:"Profile info"}),console.log("rerender")]})]})}var _=s(11),h=s(5),p=s(46),N="ADD-POST",w="UPDATE-NEW-POST-TEXT",M={postsData:[{id:Object(p.a)(),message:"It's my first post!",likesCount:12},{id:Object(p.a)(),message:"Hello!",likesCount:432},{id:Object(p.a)(),message:"Good day!",likesCount:2}],newPostText:""},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var s={id:Object(p.a)(),message:e.newPostText,likesCount:0},a=Object(h.a)({},e);return a.postsData=[s].concat(Object(_.a)(e.postsData)),a.newPostText="",a;case w:return Object(h.a)(Object(h.a)({},e),{},{newPostText:t.text});default:return e}},k=s(17),y=s.n(k),P=s(18),S=s.n(P);function I(e){return Object(a.jsxs)("div",{className:S.a.item,children:[Object(a.jsx)("img",{src:"https://cdn.iconscout.com/icon/free/png-256/avatar-372-456324.png",alt:"avatar",className:S.a.avatar}),Object(a.jsxs)("div",{className:S.a.messageContainer,children:[Object(a.jsx)("div",{className:S.a.message,children:Object(a.jsx)("span",{children:e.message})}),Object(a.jsx)("div",{className:S.a.likes,children:Object(a.jsxs)("span",{children:["Like (",e.likesCount," likes)"]})})]})]})}var C=s(12),T=Object(C.b)((function(e){return e.pageProfile}),(function(e){return{inputHandler:function(t){e(function(e){return{type:w,text:e}}(t))},addPost:function(t){var s,a=null===(s=t.current)||void 0===s?void 0:s.value;a&&a.trim()&&(e({type:N}),t.current&&t.current.value&&t.current.focus())}}}))((function(e){var t=e.postsData.map((function(e){return Object(a.jsx)(I,{message:e.message,likesCount:e.likesCount},e.id)})),s=Object(n.createRef)();return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:y.a.postButton,children:"My Posts"}),Object(a.jsxs)("div",{className:y.a.addPostSection,children:[Object(a.jsx)("textarea",{ref:s,className:y.a.text,value:e.newPostText,onChange:function(t){e.inputHandler(t.target.value)}}),Object(a.jsx)("button",{className:y.a.postButton,onClick:function(){return e.addPost(s)},children:"Send new post"})]}),Object(a.jsx)("div",{className:y.a.posts,children:t})]})}));function F(){return Object(a.jsxs)("div",{className:f.a.content,children:[Object(a.jsx)(x,{}),Object(a.jsx)(T,{})]})}function U(e){return Object(a.jsx)("div",{children:"News"})}function E(e){return Object(a.jsx)("div",{children:"Music"})}function A(e){return Object(a.jsx)("div",{children:"Settings"})}var L,B=s(14),H=Object(p.a)(),R=Object(p.a)(),G=Object(p.a)(),W=Object(p.a)(),J=[{id:H,name:"Friend 1"},{id:R,name:"Friend 2"},{id:G,name:"Friend 3"},{id:W,name:"Friend 4"}],z=[{id:Object(p.a)(),isMine:!0,message:"Hi!"},{id:Object(p.a)(),isMine:!1,message:"Hello!"},{id:Object(p.a)(),isMine:!0,message:"Whats up?"},{id:Object(p.a)(),isMine:!0,message:"Good day!"},{id:Object(p.a)(),isMine:!1,message:"Yo!"}],X=[{id:Object(p.a)(),isMine:!1,message:"Apple"},{id:Object(p.a)(),isMine:!0,message:"Peanut"},{id:Object(p.a)(),isMine:!1,message:"Banana"},{id:Object(p.a)(),isMine:!0,message:"Peach"}],q=[{id:Object(p.a)(),isMine:!1,message:"Tomato"},{id:Object(p.a)(),isMine:!1,message:"Cucumber"},{id:Object(p.a)(),isMine:!0,message:"Carrot"}],K=[{id:Object(p.a)(),isMine:!1,message:"Winter"},{id:Object(p.a)(),isMine:!1,message:"Spring"}],V=(L={},Object(B.a)(L,H,z),Object(B.a)(L,R,X),Object(B.a)(L,G,q),Object(B.a)(L,W,K),L),Q=[{id:Object(p.a)(),message:"It's my first post!",likesCount:12},{id:Object(p.a)(),message:"Hello!",likesCount:432},{id:Object(p.a)(),message:"Good day!",likesCount:2}],Y=([].concat(Q),[].concat(J),[].concat(J)[0].id,Object(p.a)(),Object(p.a)(),"ADD-MESSAGE"),Z="UPDATE-NEW-MESSAGE-TEXT",$="SET-DIALOG-ID",ee={dialogsData:V,dialogItems:Object(_.a)(J),activeDialogId:Object(_.a)(J)[0].id,newMessageText:"Shift+click to send as friend"},te=function(e){return{type:Z,text:e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:var s={id:Object(p.a)(),isMine:t.isMine,message:e.newMessageText};"Shift+click to send as friend"===s.message&&(s.message="New Message!");var a=Object(h.a)({},e);return a.dialogsData[t.dialogId]=[s].concat(Object(_.a)(a.dialogsData[t.dialogId])),a.newMessageText="",a;case Z:return Object(h.a)(Object(h.a)({},e),{},{newMessageText:t.text});case $:return Object(h.a)(Object(h.a)({},e),{},{activeDialogId:t.id});default:return e}},ae=s(4),ne=s.n(ae);function ie(e){var t="/dialogs/"+e.dialogId;return Object(a.jsxs)("div",{className:ne.a.dialog,children:[Object(a.jsx)("img",{className:ne.a.avatar,src:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_1280.png"}),Object(a.jsx)(l.b,{to:t,onClick:function(){e.callback(e.dialogId)},activeClassName:ne.a.activeLink,children:e.name})]})}function ce(e){var t=ne.a.message+(e.isMine?" "+ne.a.mineMessage:""),s=e.isMine?"https://kovadm.ru/wp-content/uploads/2020/02/avatar-placeholder.png":"https://media.istockphoto.com/vectors/person-gray-photo-placeholder-woman-vector-id1177794485?b=1&k=6&m=1177794485&s=612x612&w=0&h=8INMsj4jnjSOComnh3-5VJPDxbO2D-0vIz1E92aR4L4=",n=e.isMine?"Me":"Friend";return Object(a.jsxs)("div",{className:t,children:[Object(a.jsx)("img",{className:ne.a.msgAvatar,src:s,alt:"avatar"}),Object(a.jsxs)("div",{className:ne.a.messageBox,children:[Object(a.jsx)("span",{className:ne.a.name,children:n}),Object(a.jsx)("p",{className:ne.a.text,children:e.message}),Object(a.jsx)("span",{className:ne.a.time,children:"00.01"})]})]})}var re=Object(C.b)((function(e){return e.pageDialogs}),(function(e){return{setDialogId:function(t){e(function(e){return{type:$,id:e}}(t))},addMessage:function(t,s,a){var n,i=null===(n=s.current)||void 0===n?void 0:n.value,c=!0;i&&i.trim()&&(t.shiftKey&&(c=!1),e(function(e,t){return{type:Y,dialogId:e,isMine:t}}(a,c)),s.current&&s.current.value&&s.current.focus())},inputHandler:function(t){e(te(t.currentTarget.value))},focusHandler:function(t){"Shift+click to send as friend"===t.currentTarget.value&&e(te(""))},blurHandler:function(t){t.currentTarget.value.trim()||e(te("Shift+click to send as friend"))}}}))((function(e){var t=e.dialogItems.map((function(t){return Object(a.jsx)(ie,{dialogId:t.id,name:t.name,callback:e.setDialogId},t.id)})),s=e.dialogsData[e.activeDialogId].map((function(e){return Object(a.jsx)(ce,{id:e.id,isMine:e.isMine,message:e.message},e.id)})),i=Object(n.createRef)(),c=e.inputHandler,r=e.focusHandler,o=e.blurHandler;return Object(a.jsxs)("div",{className:ne.a.dialogs,children:[console.log("dialogs rendered"),Object(a.jsx)("div",{className:ne.a.dialogsItems,children:t}),Object(a.jsxs)("div",{className:ne.a.dialogContent,children:[Object(a.jsx)("div",{className:ne.a.dialog,children:Object(a.jsx)("div",{className:ne.a.messages,children:s})}),Object(a.jsxs)("div",{className:ne.a.addMessageSection,children:[Object(a.jsx)("textarea",{ref:i,className:ne.a.text,value:e.newMessageText,onChange:c,onFocus:r,onBlur:o}),Object(a.jsx)("button",{className:ne.a.newMessageButton,onClick:function(t){e.addMessage(t,i,e.activeDialogId)},children:"Send"})]})]})]})})),oe=s(13),le=s.n(oe);var de={users:[]},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USERS":return Object(h.a)(Object(h.a)({},e),{},{users:[].concat(Object(_.a)(e.users),Object(_.a)(t.users))});case"TOGGLE-FOLLOW":return Object(h.a)(Object(h.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(h.a)(Object(h.a)({},e),{},{isFollowed:!e.isFollowed}):e}))});default:return e}},ue=Object(C.b)((function(e){return e.pageUsers}),(function(e){return{toggleFollow:function(t){e(function(e){return{type:"TOGGLE-FOLLOW",userId:e}}(t))},setUsers:function(t){e(function(e){return{type:"SET-USERS",users:e}}(t))}}}))((function(e){var t=[{id:Object(p.a)(),firstName:"Dmitry",photoUrl:"https://cdn.iconscout.com/icon/free/png-256/avatar-370-456322.png",status:"one two three",location:{city:"Minsk",country:"Belarus"},isFollowed:!0},{id:Object(p.a)(),firstName:"Egor",photoUrl:"https://cdn.iconscout.com/icon/free/png-512/manager-2506834-2130095.png",status:"hey hey hey",location:{city:"Moscow",country:"Russia"},isFollowed:!1},{id:Object(p.a)(),firstName:"Sasha",photoUrl:"https://cdn.iconscout.com/icon/free/png-512/avatar-369-456321.png",status:"what a wonderful day!",location:{city:"Saint Petersburg",country:"Russia"},isFollowed:!1}];return 0===e.users.length&&e.setUsers(t),Object(a.jsx)("div",{className:le.a.users,children:e.users.map((function(t){return Object(a.jsxs)("div",{className:le.a.user,children:[Object(a.jsx)("div",{className:le.a.avatar,children:Object(a.jsx)("img",{src:t.photoUrl,alt:t.firstName})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){e.toggleFollow(t.id)},children:t.isFollowed?"Unfollow":"Follow"})}),Object(a.jsxs)("div",{className:le.a.info,children:[Object(a.jsx)("div",{className:le.a.name,children:t.firstName}),Object(a.jsx)("div",{className:le.a.status,children:t.status}),Object(a.jsxs)("div",{className:le.a.location,children:[Object(a.jsx)("div",{children:t.location.country}),Object(a.jsx)("div",{children:t.location.city})]})]})]},t.id)}))})}));var be=function(){var e=Object(a.jsx)(o.a,{path:"/dialogs",render:function(){return Object(a.jsx)(re,{})}}),t=Object(a.jsx)(o.a,{path:"/profile",render:function(){return Object(a.jsx)(F,{})}}),s=Object(a.jsx)(o.a,{path:"/users",render:function(){return Object(a.jsx)(ue,{})}});return Object(a.jsx)(l.a,{children:Object(a.jsxs)("div",{className:"app-wrapper",children:[Object(a.jsx)(u,{}),Object(a.jsx)(O,{}),Object(a.jsxs)("div",{className:"app-wrapper-content",children:[e,t,Object(a.jsx)(o.a,{path:"/news",component:U}),Object(a.jsx)(o.a,{path:"/music",component:E}),Object(a.jsx)(o.a,{path:"/settings",component:A}),s]})]})})},ge=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,47)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),i(e),c(e)}))},me=s(21),Oe=Object(me.b)({pageProfile:D,pageDialogs:se,pageUsers:je}),ve=Object(me.c)(Oe),fe=function(e){r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(C.a,{store:ve,children:Object(a.jsx)(be,{})})}),document.getElementById("root"))};fe(ve.getState()),ve.subscribe((function(){var e=ve.getState();fe(e)})),ge()},6:function(e,t,s){e.exports={navbar:"Navbar_navbar__2HCv2",item:"Navbar_item__3ER6l",activeLink:"Navbar_activeLink__7X-Tz",friendsTitle:"Navbar_friendsTitle__J9E0W",friendsOnline:"Navbar_friendsOnline__3XCCz",friend:"Navbar_friend__2_c3q",friendAvatar:"Navbar_friendAvatar__22v1R",friendName:"Navbar_friendName__N3WSl"}}},[[45,1,2]]]);
//# sourceMappingURL=main.36c34ae4.chunk.js.map